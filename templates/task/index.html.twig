{% extends 'base.html.twig' %}

{% block title %}My Task Board{% endblock %}

{% block body %}
<div class="container">

{% for task in tasks %}

{% if task.status == 'progress' %}
    {% set couleur = 'orange' %} 
    {% set icon =  asset('images/Coffee.png') %}
    {% set statusImg = asset('images/Hourglass.png') %}


{% elseif task.status == 'oui' %}
    {% set couleur = 'vert' %}
    {% set icon = asset('images/Bicycle.png') %}
    {% set statusImg = asset('images/Done.png') %}


{% elseif task.status == 'non' %}
    {% set couleur = 'rouge' %}
    {% set icon = asset('images/Sleeping_Face.png') %}
    {% set statusImg = asset('images/Close.png') %}


{% endif %}


<div class="task-card {{ couleur }}">
    <div class="content">
        <div class="icon"><img src="{{ icon }}"></div>
        <div class="details">
            <div class="task-title">{{ task.name }}</div>
            {% if task.description %}
             <div class="task-description">{{ task.description }}</div>
            {% endif %}
        </div>
    </div>


    <a href="{{ path('task_changement_status', {'id': task.id}) }}"  class="status" ><img src="{{ statusImg }}"></a>
<div class="bouton-delete">
    <a href="{{ path('task_delete', {'id': task.id}) }}"  class="delete" >x</a>
    </div>
</div>

 {% else %}
 <div class="message-vide">Aucune tâche trouvée.</div>
{% endfor %}


</div>
{# Leo #}
{# {% endblock %}

    <h1>Your Todo Website!</h1>

    {% include 'task/_form.html.twig' with {'form': form} %}

    <div class="card">
        <h2>Your list of task</h2>

        <table>
            <thead>
                <tr>
                    <th>Task</th>
                    <th>Description</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody>
                {% for t in task %}
                    <tr>
                        <td>{{ t.name }}</td>
                        <td>{{ t.description }}</td>
                        <td>{{ t.status }}</td>
                        <td><input method="POST" type="submit" name="update" value="update"></td>
                        <td><input method="DELETE" type="submit" name="delete" value="delete"></td>
                    </tr>
                {% else %}
                    <tr>
                        <td colspan="4" class="empty-row">You do not have any task for the moment. Add one to start!</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

</div>
{% endblock %} #}
